<!DOCTYPE html>
<html>

<head>
  <title>pioniraMap-2.1</title>

  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin="" />
  <link rel="stylesheet" href="css/pioniramap.css" />
  <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <!-- Make sure you put this AFTER Leaflet's CSS -->
  <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js" integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew==" crossorigin=""></script>
</head>

<body>
  <div id="mapid"></div>
  <p></p>
  <button id="arcLayer" type="button" name="button">Places</button>
  <button id="pioLayer" type="button" name="button">Portraits</button>
  <button id="resetLayer" type="button" name="button">Show All</button>

  <script>
    //  map definition and setup of center point and zoom
    var map = L.map('mapid').setView([38.2, -8], 8);

    // basemap link and attribution
    L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.{ext}', {
      attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
      subdomains: 'abcd',
      minZoom: 2,
      maxZoom: 20,
      ext: 'png'
    }).addTo(map);

    // popup definition
    var popup = L.popup();

    // marker definition
    var pioIcon = L.icon({
      iconUrl: 'img/portrait-YD.png',
      iconSize: [24, 24], // size of the icon
      iconAnchor: [12, 12], // point of the icon which will correspond to marker's location
      popupAnchor: [0, 0] // point from which the popup should open relative to the iconAnchor
    });

    var arcIcon = L.icon({
      iconUrl: 'img/place-TL.png',
      iconSize: [30, 30],
      iconAnchor: [15, 15],
      popupAnchor: [0, 0]
    });

    var pioIconHover = L.icon({
      iconUrl: 'img/portrait-R.png',
      iconSize: [24, 24],
      iconAnchor: [12, 12],
      popupAnchor: [0, 0]
    });

    var arcIconHover = L.icon({
      iconUrl: 'img/place-R.png',
      iconSize: [30, 30],
      iconAnchor: [15, 15],
      popupAnchor: [0, 0]
    });


    //    L.marker([38.2, -8], {
    //      icon: arcIcon
    //    }).addTo(map);


    // Define locations. name: position, markertype, popup content
    var
      stMaria = L.marker([38.474658, -8.993447], {
        icon: arcIcon
      }).bindPopup(
        '<div class="thumbnail"><img width="100" height="100%" src="img/Arrabida150.jpg"></div><p><a href="http://pioniraproject.com/monasteirodearrabida/" target="blank">Convento de Santa Maria da Arrábida</a></p><p>The <strong>Monastery of Arrábida </strong>was built during the 16th Century. Monks built the convent and lived in cells carved into the steep rocks with a dazzling view.</p>'
      ),

      Terrapalha = L.marker([38.789090, -9.460521], {
        icon: pioIcon
      }).bindPopup('<div class="thumbnail"><img width="100" height="100%" src="img/Terrapalha.png"></div><p><a href="http://pioniraproject.com/terrapalha/" target="blank">Terrapalha</a></p><p>Exploring <strong>green design </strong>and natural building materials with the aim to improve life quality while meeting environmental guidelines with Catarina Pinto.</p>'),

      Corval = L.marker([38.448690, -7.487376], {
        icon: pioIcon
      }).bindPopup('<div class="thumbnail"><img width="100" height="100%" src="img/Tijolo150.png"></div><p><a href="#" target="blank">São Pedro do Corval</a></p><p>Learning about the process of making bricks, the unique beauty of the material, the danger of bricks breaking with the cold and about hand crafts becoming almost extinct in Portugal as a <strong>building material supplier.</strong></p>'),

      officinasDoConvento = L.marker([38.649351, -8.210639], {
        icon: pioIcon
      }).bindPopup('<div class="thumbnail"><img width="100" height="100%" src="img/OdC150.png"></div><p><a href="#" target="blank">Oficinas do Convento</a></p><p><strong>Natural building materials </strong>are tested at Oficinas do Convento’s Earth Lab, giving new life to an old convent by hosting workshops and residencies.</p>'),

      AiresMateus = L.marker([38.715812, -9.150072], {
        icon: pioIcon
      }).bindPopup(
        '<div class="thumbnail"><img width="100" height="100%" src="img/Aires.png"></div><p><a href="http://pioniraproject.com/airesmateus/" target="blank">Aires Mateus</a></p><p>Manuel <strong>Aires Mateus </strong>on Europe’s cultural history, a building’s sustainability and durability, regional influence and what to pass on to the next generation.</p>'
      ),

      CLARA = L.marker([37.457316, -8.486756], {
        icon: pioIcon
      }).bindPopup('<div class="thumbnail"><img width="100" height="100%" src="img/Clara150.png"></div><p><a href="http://pioniraproject.com/claralab/" target="blank">CLARA - Center for Rural Future</a></p><p>Clara Lab is a <strong>holistic design </strong>research center in south Portugal, exploring sustainable development and stressing the importance to re-invent a rural future.</p>'),

      Morada = L.marker([38.703195, -8.325727], {
        icon: pioIcon
      }).bindPopup('<div class="thumbnail"><img width="100" height="100%" src="img/HFdM150.png"></div><p><a href="http://pioniraproject.com/freixodomeio/" target="blank">Herdade do Freixo do Meio</a></p><p>Time stands still at this estate based on a regenerative agroforestry model and <strong>organic farming methods </strong>with majestic cork trees and <strong>organic </strong>produce.</p>'),

      Barradas = L.marker([38.194246, -8.617208], {
        icon: pioIcon
      }).bindPopup('<div class="thumbnail"><img width="100" height="100%" src="img/Barradas.png"></div><p><a href="http://pioniraproject.com/barradasdaserra/" target="blank">Herdade das Barradas da Serra</a></p><p>Francisco explains the <strong>conservation  </strong>of  <strong>biodiversity</strong>, the smell of freshly harvested cork and the many advantages of cork as a sustainable building material.</p>'),

      Esporão = L.marker([38.379816, -7.560493], {
        icon: pioIcon
      }).bindPopup('<div class="thumbnail"><img width="100" height="100%" src="img/esporao.png"></div><p><a href="http://pioniraproject.com/heradadedoesporao/" target="blank">Herdade do Esporão</a></p><p>A <strong>biodiversity hotspot</strong>, spanning across rolling hills of protected nature. A home to animals, grapes for Portuguese wine and the slow forward movement.</p>'),

      AnahoryAlmeida = L.marker([38.717350, -9.165220], {
        icon: pioIcon
      }).bindPopup(
        '<div class="thumbnail"><img width="100" height="100%" src="img/AA_Lisbon.png"></div><p><a href="http://pioniraproject.com/anahoryalmeida/" target="blank">AnahoryAlmeida</a></p><p>Female pioneers Anahory Almeida re-value traditional crafts in their architectural practice, transforming <strong>Portuguese culture </strong>from tradition to innovation.</p> '
      ),

      tapete = L.marker([38.7556, -9.323], {
        icon: pioIcon
      }).bindPopup('<div class="thumbnail"><img width="100" height="100%" src="img/tapetedeArraiolos.png"></div><p><a href="#" target="blank">Tapete de Arraiolos</a></p><p>Emilia’s energy immediately fascinates the curious onlooker, passing on her rare knowledge about <strong>tapete de Arraiolos</strong>, a traditional Portuguese rug technique.</p>');



    // Define Groups

    var arcGroup = L.layerGroup([stMaria]);

    var pioGroup = L.layerGroup([Terrapalha, CLARA, Corval, officinasDoConvento, Morada, Barradas, Esporão, AnahoryAlmeida, AiresMateus]);


    var overlays = {
      "places": arcGroup,
      "portraits": pioGroup
    };

    // Show control element
    // L.control.layers(overlays).addTo(map);


    // Set initial layer
    arcGroup.addTo(map);
    pioGroup.addTo(map);


    $(document).on('click', '#pioLayer', function() {
      if (map.hasLayer(pioGroup)) {
        map.removeLayer(arcGroup);
      } else {
        pioGroup.addTo(map), map.removeLayer(arcGroup);
      }
    });

    $(document).on('click', '#arcLayer', function() {
      if (map.hasLayer(arcGroup)) {
        map.removeLayer(pioGroup);
      } else {
        arcGroup.addTo(map), map.removeLayer(pioGroup);
      }
    });

    $(document).on('click', '#resetLayer', function() {
      arcGroup.addTo(map), pioGroup.addTo(map);
    });
  </script>

</body>

</html>
